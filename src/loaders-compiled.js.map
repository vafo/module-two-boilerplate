{"version":3,"sources":["loaders.js"],"names":[],"mappings":";;;;;AAGI,IAAM,gBAAgB,8BAAtB;;AAEA,IAAM,OAAO,KAAb;;AAEA,SAAS,SAAT,CAAmB,QAAnB,EAA6B;AACzB,QAAM,MAAS,aAAT,SAA0B,IAA1B,8BAAuD,QAA7D;AACA,WAAO,YAAY,GAAZ,CAAP;AACH;;AAED,SAAS,WAAT,CAAqB,SAArB,EAAgC;AAC5B,QAAM,MAAS,aAAT,SAA0B,IAA1B,kCAA2D,SAAjE;AACA,WAAO,YAAY,GAAZ,EACF,IADE,CACG;AAAA,eAAQ,KAAK,SAAL,CAAR;AAAA,KADH,CAAP;AAEH;;AAED,SAAS,WAAT,CAAqB,GAArB,EAA0B;AACtB,WAAO,MAAM,GAAN,EACF,IADE,CACG;AAAA,eAAY,SAAS,IAAT,EAAZ;AAAA,KADH,EAEF,IAFE,CAEG;AAAA,eAAgB,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AACxD,gBAAI,aAAa,MAAb,KAAwB,IAA5B,EAAkC;AAC9B,wBAAQ,aAAa,IAArB;AACH,aAFD,MAEO;AACH,uBAAO,aAAa,KAAb,CAAmB,OAA1B;AACH;AACJ,SANqB,CAAhB;AAAA,KAFH,CAAP;AASH;;AAED,OAAO,OAAP,GAAiB;AACb,wBADa;AAEb;AAFa,CAAjB","file":"loaders-compiled.js","sourcesContent":["/**\n * Created by v_asavets on 13.9.16.\n */\n    const API_PROXY_URL = 'http://188.166.73.133/wg-api'\n\n    const GAME = 'wot'\n\n    function loadUsers(username) {\n        const url = `${API_PROXY_URL}/${GAME}/account/list/?search=${username}`\n        return makeRequest(url);\n    }\n\n    function loadProfile(accountId) {\n        const url = `${API_PROXY_URL}/${GAME}/account/info/?account_id=${accountId}`;\n        return makeRequest(url)\n            .then(data => data[accountId])\n    }\n\n    function makeRequest(url) {\n        return fetch(url)\n            .then(response => response.json())\n            .then(responseJson => new Promise(function(resolve, reject) {\n                if (responseJson.status === 'ok') {\n                    resolve(responseJson.data);\n                } else {\n                    reject(responseJson.error.message);\n                }\n            }));\n    }\n\n    module.exports = {\n        loadUsers,\n        loadProfile\n    }"]}